<div class="shadow p-3 mb-5 bg-body-tertiary rounded mx-auto" style="margin: 1%; padding: 10%;width: 50%;">
  <div class="nav-header">
    <header class="text-center text-white py-5"
      style="background-image:url('https://source.unsplash.com/wfh8dDlNFOk/1600x900')">
      <div class="nav-brand">
        <img src="https://s3-us-west-2.amazonaws.com/parallax-theme/assets/bradlogo2.png">
      </div>
      <i class="fa fa-bars fa-3x"></i>
      <h1 class="display-5 font-weight-bold mb-4"><u>sign up</u></h1>
    </header>
  </div>
  <div class="shadow p-3 mb-5 bg-body-tertiary rounded">
    <form [formGroup]="user">

      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">Name</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="username" formControlName="username">
          <div *ngIf="user.controls['username'].invalid && user.controls['username'].touched" class="text-danger">
            <div *ngIf="user.get('username')?.errors?.['required']">Username is required</div>
            <div *ngIf="user.get('username')?.errors?.['minlength']">Username must be at least 3 characters long</div>
            <div *ngIf="user.get('username')?.errors?.['maxlength']">Username cannot be more than 20 characters long
            </div>
          </div>
        </div>
      </div>
      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">email</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="email" formControlName="email">
          <div *ngIf="user.controls['email'].invalid && user.controls['email'].touched" class="text-danger">
            <div *ngIf="user.get('email')?.errors?.['required']">Email is required</div>
            <div *ngIf="user.get('email')?.errors?.['pattern']">Email must be in a valid format</div>
          </div>
        </div>
      </div>

      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">Password</label>
        <div class="col-sm-10">
          <input type="password" class="form-control" id="password" formControlName="password">
          <div *ngIf="user.controls['password'].invalid && user.controls['password'].touched" class="text-danger">
            <div *ngIf="user.get('password')?.errors?.['required']">Password is required</div>
            <div *ngIf="user.get('password')?.errors?.['minlength']">Password must be at least 6 characters long</div>
            <div *ngIf="user.get('password')?.errors?.['maxlength']">Password cannot be more than 12 characters long</div>
             <div *ngIf="user.get('password')?.errors?.['pattern']">Password must contain at least one lowercase letter,
              one uppercase letter, one number, and one special character (@$!%*?&)</div>
          </div>
        </div>
      </div>

      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">Confirm Password</label>
        <div class="col-sm-10">
          <input type="password" class="form-control" formControlName="confirmPassword" placeholder="Confirm password">
          <div
            *ngIf="user.get('confirmPassword')?.invalid && (user.get('confirmPassword')?.dirty || user.get('confirmPassword')?.touched)"
            class="alert alert-danger">
            <div *ngIf="user.get('confirmPassword')?.errors?.['required']">Confirm password is required</div>
            <div *ngIf="user.get('confirmPassword')?.value !== user.get('password')?.value">Passwords do not match</div>
          </div>
        </div>
      </div>

      <div class="d-grid gap-2 col-6 mx-auto">
        <button class="btn btn-primary" type="submit" (click)=" saveUser()" [disabled]="user.invalid">SignUp</button>
      </div>
    </form>
  </div>
</div>